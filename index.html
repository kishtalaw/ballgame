<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tilt Ball Game</title>
<style>
  body { margin: 0; overflow: hidden; }
  canvas { background: #222; display: block; }
</style>
</head>
<body>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let ball = { x: 50, y: 50, r: 20, vx: 0, vy: 0 };
let target = { x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: 25 };

window.addEventListener("deviceorientation", (e) => {
    const gX = e.gamma;  // left/right tilt
    const gY = e.beta;   // forward/back tilt
    ball.vx += gX * 0.05;
    ball.vy += gY * 0.05;
});

function newTarget() {
    target.x = Math.random() * (canvas.width - target.r*2) + target.r;
    target.y = Math.random() * (canvas.height - target.r*2) + target.r;
}

function update() {
    ball.x += ball.vx;
    ball.y += ball.vy;
    ball.vx *= 0.98; // friction
    ball.vy *= 0.98;

    // Bounce off walls
    if (ball.x - ball.r < 0 || ball.x + ball.r > canvas.width) ball.vx *= -0.8;
    if (ball.y - ball.r < 0 || ball.y + ball.r > canvas.height) ball.vy *= -0.8;

    // Win detection
    const dx = ball.x - target.x;
    const dy = ball.y - target.y;
    if (Math.sqrt(dx*dx + dy*dy) < ball.r + target.r) {
        newTarget();
    }
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw target
    ctx.fillStyle = "lime";
    ctx.beginPath();
    ctx.arc(target.x, target.y, target.r, 0, Math.PI*2);
    ctx.fill();

    // Draw ball
    ctx.fillStyle = "red";
    ctx.beginPath();
    ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI*2);
    ctx.fill();
}

function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
